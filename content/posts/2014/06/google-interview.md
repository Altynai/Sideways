Title: Google面试经历
Date: 2014-06-23 21:59
Author: Altynai
Category: Life
Tags: Life
Slug: google-interview
Email: Altynai.me@gmail.com

其实面完已经有半个多月了，最后挂了在HC轮，感觉挺可惜的，但是能总结的有很多，趁这次把blog迁移到`pelican`之后赶紧补掉这份面经吧。

## 背景

本人弱校软工毕业，大学折腾过三年ACM，在队里属于读题型选手，运气好品尝过`Regional银`的滋味，其他时间基本都在被虐。

对于这次拿到Google面试的机会，还是挺意外的，主要原因还是recruiter主动联系了我，问有没有意向尝试一下，其中还解释了`为什么联系你`，`招聘大致流程`，`确定电面大致时间`等相关问题。Google作为程序员眼中的`Dreaming Company`，谁会选择放弃这种机会呢？

为了做一些基本知识的复习和回忆，和recruiter约了20多天后电面，不得不赞叹Google的招聘流程，非常人性化，特别为应聘者考虑周到，这个后面再提及。

在这之后，recruiter发了一份相关的面试准备资料，其实里面的内容也不多，主要是面试过程中所需要掌握的一些知识点概述，从算法数据结构到OS编译原理等，覆盖的面还是非常非常广的。

接下去的20多天，针对自己薄弱的部分做了点突击复习和整理，主要还是围绕操作系统和网络等方面。

说来也巧，在接到recruiter的电话之前，刚刚好抽空刷完了`LeetCode`的题目，而且那段时间国内外Coding比赛也很多：`Codejam`，`AStar`，`编程之美`等，正好是个不错的练习算法和数据结构的机会。

## 电面一

第一轮电面约了晚上10点，和recruiter约了一位New York的华人面试官，结果打来的是位香港的面试官，而且还是直接用英文面。
由于是第一次做英文电面，所以一开始特别紧张，面试官期间还多次叫我relax。

开场问了些简历里面的东西，以`之前做过什么？`，`某个项目中遇到的最大难题是什么？怎么解决的？`等类似方向的问题为主，之前也有为这个做些准备，不过感觉没回答好，主要还是表达能力上的问题。

然后就直接在doc里做题了，这轮面了两题，第一题是`TC Div.2 250pt`级别的题，一个简单的`char array[]`处理，从右往左线性的扫描就够了。但是由于当时太紧张了，挂了电话之后才发现把面试官给的一个题目条件忘记了，回想到面试官在提示的时候自己愣是在找bug，而不是重新审视题目的本意。

第二题是实现一个迭代器，前序遍历一个二叉树。一开始扯了一个暴力且最简单的方法，直接遍历树，存结果，再线性扫描。然后面试官当然不满意，提示优化，所以扯了一个手动栈模拟递归的方法，由于时间紧，也来不及写代码，只是大致说了一下思路，不过感觉自己当时也不是表达的很好。具体思路和代码可以参考<http://coolshell.cn/articles/9886.html>。

最后5分钟问了他几个关于工作和生活的问题，其实他回答的时候我也没完全仔细在听，脑子里在一个劲的回想这次面试中出现的问题。

两天后收到recruiter的feedback，结果竟然是`positive`，感觉还是挺意外的。因此约了一周后进行第二轮电面。

## 电面二

这一轮为了能约上中文面试，特意和recruiter选了下午2点的时间，面试官是位上海的国人，中文面试感觉压力小了很多。

这轮很干脆，面试官简单介绍了一下自己，然后直接说“**我们不浪费时间，直接做题吧！**”。

第一题是给定一个字符集`S`，有一个映射函数`f(x)=y x,y属于S`，让你实现一个函数`g(y)=x x,y属于S`。首先给了一个暴力枚举的做法：对于每个`y`，枚举集合`S`，找到一个`f(x)=y`即可。然后提醒优化，就加开了一个数组，做查询时候的cache。

第二题是个循序渐进的题目，一开始要求实现一个`10进制->n进制(2<=n<=16)`的转化函数，然后实现一个`n进制->10进制(2<=n<=16)`的转化函数，最后结合以上两个函数，整合成一个`n进制->m进制(2<=n,m<=16)`的综合函数，写完之后讨论了一些细节问题，之后就算是结束了这轮面试。

半周之后得到了recruiter的反馈，还不错，只是写代码的速度还是稍微慢了一点，我想他应该是指第二题吧。然后通知我去上海做四轮`onsite`，当时开心极了，终于可以去感受一下传闻中的Google食堂了！

但是由于邻近端午放假，所以和recruiter约好端午之后去上海。

## Onsite

Google真是财大气粗，直接报销住宿和来回的车票，住宿还直接来了个五星的酒店，Orz

面试是第二天早上10点开始，上下午各两轮。不过那晚悲剧发生了，辗转反侧到3点多才睡着，早上8点多醒来的时候感觉整个人真是要跪的节奏，只能去餐厅怒喝了两杯浓咖啡，稍微点了点蛋糕鸡蛋等吃的充充饥，当时感觉心态就开始有点不稳定了。

虽然酒店和Google同在SWFC楼里，我还是提前差不多半小时就到了，说明来意之后坐在沙发上拿出电脑，看了会儿之前整理的资料，当是做做热身吧。没过多久就被recruiter领到二楼的`节`会议室。

由于签了`NDA`，具体题目就不说了，这里大致只说一下这四轮的面试流程，运气不错的是，四位面试官都是自己人，没有遇到传说中的三哥，算是不幸中的万幸吧。

### 第一轮

没做介绍，直接做题。第一题是到博弈决策类的题，用`dfs`在纸上打了个表，发现了一个规律，然后大致在纸上证明了一下，感觉面试官反馈还不错，直接进入第二题了，心里稍微轻松了点。

第二题算是是个系统设计题吧，面试官给了一份几页的纸质材料，根据材料中的关键点，设计一个简单的数据库，并说明某些字段设计成这样的原因。这题感觉答的一般，只设计出基本满足条件的模型，后来经过提醒才发现了几处有小问题的地方，不过看面试官脸上的表情，总体感觉还行吧。

### 第二轮

这轮的面试官是上古神犇`lympanda`，当时直接猜到是要面`ACM`级别的题了，顿感压力剧增。做完简单的自我介绍之后，就直接开始做题了。

第一题对完题意之后，感觉好像没什么思路，然后从给出的一组简单样例中YY了一个模型：局面状态转成节点，构造一个有向图求最短路，并顺带想到一个很直接的优化方法。他说小数据情况下你这个可以，但是如果数据一大怎么办？然后接着想，感觉是个数学题，有个相关的隐含公式，之后一直往这个方向在思考和推导，最后也没找到一个好的方法，被果断叫停了，直接让写小数据情况下的代码。

当时快临近11点半了，整个人感觉有些发飘了都。差不多花了几分钟写了小数据的代码，并做一些关键点的复杂度分析，结果这里不但说错了复杂度，代码中还漏写了刚刚已经说出来的优化方法，真是要命，当时都急的想把旁边的矿泉水直接拧爆往自己脸上泼了。

第二题只要讲一下大致的思路就行了，本质是个`dfs`模型，根据递归的深度缩小答案范围，想挺好想的，只是实现上会有点繁琐，以当时的状态估计直接会写晕了，还好只要思路就行了。

### 中场休息

面完第二轮之后，跟着`lympanda`和一位黄衣服的小哥（至今不知道他叫啥）去传说中的食堂吃饭了，里面提供各色各样的菜，蛋糕、水果、西餐、中餐啥都有，旁边还有好几个冰箱，里面都是各色各样的饮品，随便拿，随便吃，你说这还能叫人认真工作？这环境真的是天堂一般！

由于胃口不是很好，就挑了点杂七杂八的，拿了点蛋糕和水果，做了个小拼盘默默的一口一口吃掉了，味道还是不错的。饭间和两位聊了聊生活中的事，还是挺开心的。

饭后在黄衣小哥的带领下，在Google内部楼层转了一整圈，还是挺大开眼界的，参观了书房，健身房（内部还有一个大浴室啊卧槽！），休息室，台球室，吧台，会议室，研发区等，总体感觉只能说在Google工作真是种享受！

逛完一圈，回到`节`会议室，小憩几分钟，准备下半场。

### 第三轮

第三轮是个神情严峻的小哥，整个面试中基本维持一个表情，搞得我有点慌，不能从他脸上读出点有用的信息。做了简单的自我介绍之后，就开始做题了。

第一题比较简单，是个图论中的模板题，写完之后被问了`如何证明算法的正确性？`，由于之前看过相关证明，简单在纸上描述了一下，自己感觉这题答的还算可以吧。

第二题是道不擅长的题，涉及到进程间的通信以及相关数据如何组织的问题，想了会儿给了个用`Bit Array`解决的做法，但是讨论中估算发现内存会不够用，这下就蛋疼了！然后他连续给了两个条件作为提示，我想了会儿还是没想到好的做法，所以在此题上没有太多的进展。

最后问了些小问题之后，无奈的结束了这轮面试。

### 第四轮

终于到最后一轮了，面试官是个`Team Leader`级别的人，我还正开心四轮都是中文面时，突然英语面就这么开始了。开场还是简单的介绍一下自己，稍微聊了聊简历里的东西，然后问了些和`Django`有关的小问题，期间也暴露了英语表达太不足的问题，以至于面试到一半之后，无奈又换回了中文继续面，真是个不好的节奏啊。

小题目问完之后就开始真正做题了。

第一题是设计个等概率选样本的函数，其实就是类似`shuffle`的过程，一开始还扯到别的地方去了，一边想一遍证明等概率相关的问题，结果到头来还是没答好，当时有点心灰意冷了。

第二题比较简单，对给定条件的数组做一个特定的查找，直接三分法就好了，快速写了代码，写完仔细检查一遍，这场面试算了结束了。

最后问了几个和毕业不久，初入职场有关的问题，其实他特别强调的一点就是：

> **热爱自己做的事，做好每一件小事。**

### 总结

最后就做个简单的总结吧，有一部分别人也提及很多次，就当再次强调吧，要努力的地方还有很多。

- 英语很重要，特别是表达能力
- 纸上白班写代码的能力
- 写代码要尽量快速，bugfree
- 基础的算法和数据结构要熟练掌握
- 操作系统，网络等基础知识和相关实战经验很重要

暂时就想到这么多，准备多锻炼一下，以后再尝试尝试吧。
